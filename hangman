#!/usr/bin/bash

word=$(cat /usr/share/dict/words | egrep ^......?.?.?$ | shuf -n 1)
word_count=$(echo -n $word | wc -c)
max_attempts=6
attempt=0

echo $word
match=0

for (( i=0; i<$word_count; i++ ))
do
	echo -n "_"
done
echo 

while [[ attempt -lt $max_attempts && match -lt word_count ]]
do	
	read -p "Attempt $((attempt+1)): " guess_letter
	
	if [[ $guess_letters == *$guess_letter* ]]
        then
                echo "You already entered '$guess_letter'"
        	continue
	fi
	guess_letters+=$guess_letter	

	for(( c=0; c<$word_count; c++ ))
	do
		if [[ $guess_letters == *${word:$c:1}* ]]
			then echo -n ${word:$c:1}
			((match++))
		else 
			echo -n "_"
		fi
	done
	echo
	((attempt++))
done

echo "$match"
